/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package presentacion;

import dominio.ControlMembresia;
import dominio.ControlSocio;
import dominio.Membresia;
import dominio.Socio;
import java.awt.Color;
import java.util.ArrayList;
//import java.util.Date;
import java.sql.Date;

import javax.swing.JOptionPane;

/**
 *
 * @author angel
 */
public class SocioFrame extends javax.swing.JFrame {

    /**
     * Creates new form Usuario
     */
    public SocioFrame() {
        initComponents();
        this.cs = new ControlSocio();
    }

    public SocioFrame(Socio soc){
        this.socio = soc;
        initComponents();
        this.cs = new ControlSocio();
    }
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panel = new javax.swing.JPanel();
        panelSouth = new javax.swing.JPanel();
        PanelSouthLeft = new javax.swing.JPanel();
        btnEliminar = new javax.swing.JButton();
        panelSouthRight = new javax.swing.JPanel();
        btnCancelar = new javax.swing.JButton();
        btnAnadir = new javax.swing.JButton();
        panelCenter = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        lblDatosPersonales = new javax.swing.JLabel();
        lblNombre = new javax.swing.JLabel();
        lblApellidos = new javax.swing.JLabel();
        tfNombre = new javax.swing.JTextField();
        tfApellidos = new javax.swing.JTextField();
        lblFechaNacimiento = new javax.swing.JLabel();
        lblMembresia = new javax.swing.JLabel();
        cbMembresias = new javax.swing.JComboBox<>();
        cbPagos = new javax.swing.JCheckBox();
        lblDatosContacto = new javax.swing.JLabel();
        lblEmail = new javax.swing.JLabel();
        tfEmail = new javax.swing.JTextField();
        lblDireccion = new javax.swing.JLabel();
        tfDireccion = new javax.swing.JTextField();
        lblTlf = new javax.swing.JLabel();
        lblDNI = new javax.swing.JLabel();
        tfDNI = new javax.swing.JTextField();
        lblObDNI = new javax.swing.JLabel();
        lblObNombre = new javax.swing.JLabel();
        lblObMembresia = new javax.swing.JLabel();
        tfTlf = new javax.swing.JFormattedTextField();
        tfFechaNacimiento = new javax.swing.JFormattedTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("TicketManagementSystem");
        setResizable(false);

        panel.setBackground(new java.awt.Color(51, 51, 51));
        panel.setName("panel"); // NOI18N
        panel.setPreferredSize(new java.awt.Dimension(800, 550));
        panel.setLayout(new java.awt.BorderLayout());

        panelSouth.setBackground(new java.awt.Color(51, 51, 51));
        panelSouth.setName("panelSouth"); // NOI18N
        panelSouth.setPreferredSize(new java.awt.Dimension(215, 55));
        panelSouth.setLayout(new java.awt.GridLayout(1, 2));

        PanelSouthLeft.setBackground(new java.awt.Color(51, 51, 51));
        PanelSouthLeft.setName("PanelSouthLeft"); // NOI18N
        PanelSouthLeft.setPreferredSize(new java.awt.Dimension(400, 55));
        PanelSouthLeft.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEADING, 20, 5));

        btnEliminar.setBackground(new java.awt.Color(204, 0, 0));
        btnEliminar.setText("Eliminar");
        btnEliminar.setBorder(null);
        btnEliminar.setName("btnEliminar"); // NOI18N
        btnEliminar.setPreferredSize(new java.awt.Dimension(180, 35));
        btnEliminar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnEliminarMouseClicked(evt);
            }
        });
        PanelSouthLeft.add(btnEliminar);

        panelSouth.add(PanelSouthLeft);

        panelSouthRight.setBackground(new java.awt.Color(51, 51, 51));
        panelSouthRight.setName("panelSouthRight"); // NOI18N
        panelSouthRight.setPreferredSize(new java.awt.Dimension(400, 55));
        panelSouthRight.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.TRAILING));

        btnCancelar.setBackground(new java.awt.Color(204, 0, 204));
        btnCancelar.setText("Cancelar");
        btnCancelar.setBorder(null);
        btnCancelar.setName("btnCancelar"); // NOI18N
        btnCancelar.setPreferredSize(new java.awt.Dimension(180, 35));
        btnCancelar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                btnCancelarMousePressed(evt);
            }
        });
        panelSouthRight.add(btnCancelar);

        btnAnadir.setBackground(new java.awt.Color(0, 204, 0));
        btnAnadir.setText("Añadir");
        btnAnadir.setBorder(null);
        btnAnadir.setName("btnAnadir"); // NOI18N
        btnAnadir.setPreferredSize(new java.awt.Dimension(180, 35));
        btnAnadir.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                btnAnadirMousePressed(evt);
            }
        });
        panelSouthRight.add(btnAnadir);

        panelSouth.add(panelSouthRight);

        panel.add(panelSouth, java.awt.BorderLayout.PAGE_END);

        panelCenter.setBackground(new java.awt.Color(51, 51, 51));
        panelCenter.setName("panelCenter"); // NOI18N
        panelCenter.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setIcon(new javax.swing.ImageIcon("C:\\Users\\angel\\Downloads\\user(1).png")); // NOI18N
        panelCenter.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 20, 120, 140));

        lblDatosPersonales.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        lblDatosPersonales.setForeground(new java.awt.Color(255, 255, 255));
        lblDatosPersonales.setText("Datos Personales");
        lblDatosPersonales.setName("lblDatosPersonales"); // NOI18N
        panelCenter.add(lblDatosPersonales, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 20, -1, -1));

        lblNombre.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lblNombre.setForeground(new java.awt.Color(255, 255, 255));
        lblNombre.setText("Nombre");
        lblNombre.setName("lblNombre"); // NOI18N
        panelCenter.add(lblNombre, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 50, -1, -1));

        lblApellidos.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lblApellidos.setForeground(new java.awt.Color(255, 255, 255));
        lblApellidos.setText("Apellidos");
        lblApellidos.setName("lblApellidos"); // NOI18N
        panelCenter.add(lblApellidos, new org.netbeans.lib.awtextra.AbsoluteConstraints(460, 50, -1, -1));

        tfNombre.setBackground(new java.awt.Color(102, 102, 102));
        tfNombre.setForeground(new java.awt.Color(255, 255, 255));
        tfNombre.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
        tfNombre.setCaretColor(new java.awt.Color(204, 0, 204));
        tfNombre.setName("tfNombre"); // NOI18N
        tfNombre.setSelectionColor(new java.awt.Color(204, 0, 204));
        tfNombre.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfNombreFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfNombreFocusLost(evt);
            }
        });
        panelCenter.add(tfNombre, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 70, 260, 25));

        tfApellidos.setBackground(new java.awt.Color(102, 102, 102));
        tfApellidos.setForeground(new java.awt.Color(255, 255, 255));
        tfApellidos.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
        tfApellidos.setCaretColor(new java.awt.Color(204, 0, 204));
        tfApellidos.setName("tfApellidos"); // NOI18N
        tfApellidos.setSelectionColor(new java.awt.Color(204, 0, 204));
        tfApellidos.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfApellidosFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfApellidosFocusLost(evt);
            }
        });
        panelCenter.add(tfApellidos, new org.netbeans.lib.awtextra.AbsoluteConstraints(460, 70, 260, 25));

        lblFechaNacimiento.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lblFechaNacimiento.setForeground(new java.awt.Color(255, 255, 255));
        lblFechaNacimiento.setText("Fecha Nacimiento");
        lblFechaNacimiento.setName("lblFechaNacimiento"); // NOI18N
        panelCenter.add(lblFechaNacimiento, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 110, -1, -1));

        lblMembresia.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lblMembresia.setForeground(new java.awt.Color(255, 255, 255));
        lblMembresia.setText("Membresia");
        lblMembresia.setName("lblMembresia"); // NOI18N
        panelCenter.add(lblMembresia, new org.netbeans.lib.awtextra.AbsoluteConstraints(400, 110, -1, -1));

        rellenarMembresias();
        cbMembresias.setName("cbMembresias"); // NOI18N
        panelCenter.add(cbMembresias, new org.netbeans.lib.awtextra.AbsoluteConstraints(400, 130, 200, 25));

        cbPagos.setBackground(new java.awt.Color(51, 51, 51));
        cbPagos.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        cbPagos.setForeground(new java.awt.Color(255, 255, 255));
        cbPagos.setText("Al dia de pagos");
        cbPagos.setName("cbPagos"); // NOI18N
        panelCenter.add(cbPagos, new org.netbeans.lib.awtextra.AbsoluteConstraints(620, 130, -1, 25));

        lblDatosContacto.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        lblDatosContacto.setForeground(new java.awt.Color(255, 255, 255));
        lblDatosContacto.setText("Datos de Contacto");
        lblDatosContacto.setName("lblDatosContacto"); // NOI18N
        panelCenter.add(lblDatosContacto, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 200, -1, -1));

        lblEmail.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lblEmail.setForeground(new java.awt.Color(255, 255, 255));
        lblEmail.setText("Email");
        lblEmail.setName("lblEmail"); // NOI18N
        panelCenter.add(lblEmail, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 240, -1, -1));

        tfEmail.setBackground(new java.awt.Color(102, 102, 102));
        tfEmail.setForeground(new java.awt.Color(255, 255, 255));
        tfEmail.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
        tfEmail.setCaretColor(new java.awt.Color(204, 0, 204));
        tfEmail.setName("tfEmail"); // NOI18N
        tfEmail.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfEmailFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfEmailFocusLost(evt);
            }
        });
        panelCenter.add(tfEmail, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 260, 690, 25));

        lblDireccion.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lblDireccion.setForeground(new java.awt.Color(255, 255, 255));
        lblDireccion.setText("Direccion");
        lblDireccion.setName("lblDireccion"); // NOI18N
        panelCenter.add(lblDireccion, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 310, -1, -1));

        tfDireccion.setBackground(new java.awt.Color(102, 102, 102));
        tfDireccion.setForeground(new java.awt.Color(255, 255, 255));
        tfDireccion.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
        tfDireccion.setCaretColor(new java.awt.Color(204, 0, 204));
        tfDireccion.setName("tfDireccion"); // NOI18N
        tfDireccion.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfDireccionFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfDireccionFocusLost(evt);
            }
        });
        panelCenter.add(tfDireccion, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 330, 690, 25));

        lblTlf.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lblTlf.setForeground(new java.awt.Color(255, 255, 255));
        lblTlf.setText("Teléfono");
        lblTlf.setName("lblTlf"); // NOI18N
        panelCenter.add(lblTlf, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 380, -1, -1));

        lblDNI.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lblDNI.setForeground(new java.awt.Color(255, 255, 255));
        lblDNI.setText("DNI");
        lblDNI.setName("lblDNI"); // NOI18N
        panelCenter.add(lblDNI, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 380, -1, -1));

        tfDNI.setBackground(new java.awt.Color(102, 102, 102));
        tfDNI.setForeground(new java.awt.Color(255, 255, 255));
        tfDNI.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
        tfDNI.setCaretColor(new java.awt.Color(204, 0, 204));
        tfDNI.setName("tfDNI"); // NOI18N
        tfDNI.setSelectionColor(new java.awt.Color(204, 0, 204));
        tfDNI.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfDNIFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfDNIFocusLost(evt);
            }
        });
        panelCenter.add(tfDNI, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 400, 190, 25));

        lblObDNI.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lblObDNI.setForeground(new java.awt.Color(255, 255, 255));
        lblObDNI.setText("*");
        lblObDNI.setName("lblObDNI"); // NOI18N
        panelCenter.add(lblObDNI, new org.netbeans.lib.awtextra.AbsoluteConstraints(285, 380, -1, -1));

        lblObNombre.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lblObNombre.setForeground(new java.awt.Color(255, 255, 255));
        lblObNombre.setText("*");
        lblObNombre.setName("lblObNombre"); // NOI18N
        panelCenter.add(lblObNombre, new org.netbeans.lib.awtextra.AbsoluteConstraints(225, 50, -1, -1));

        lblObMembresia.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lblObMembresia.setForeground(new java.awt.Color(255, 255, 255));
        lblObMembresia.setText("*");
        lblObMembresia.setName("lblObMembresia"); // NOI18N
        panelCenter.add(lblObMembresia, new org.netbeans.lib.awtextra.AbsoluteConstraints(465, 110, -1, -1));

        tfTlf.setBackground(new java.awt.Color(102, 102, 102));
        tfTlf.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
        tfTlf.setForeground(new java.awt.Color(255, 255, 255));
        tfTlf.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        tfTlf.setCaretColor(new java.awt.Color(204, 0, 204));
        tfTlf.setName("tfTlf"); // NOI18N
        tfTlf.setSelectionColor(new java.awt.Color(204, 0, 204));
        tfTlf.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfTlfFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfTlfFocusLost(evt);
            }
        });
        panelCenter.add(tfTlf, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 400, 170, 25));

        tfFechaNacimiento.setBackground(new java.awt.Color(102, 102, 102));
        tfFechaNacimiento.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
        tfFechaNacimiento.setForeground(new java.awt.Color(255, 255, 255));
        tfFechaNacimiento.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.DateFormatter(new java.text.SimpleDateFormat("yyyy/MM/dd"))));
        tfFechaNacimiento.setCaretColor(new java.awt.Color(204, 0, 204));
        tfFechaNacimiento.setName("tfFechaNacimiento"); // NOI18N
        tfFechaNacimiento.setSelectionColor(new java.awt.Color(204, 0, 204));
        tfFechaNacimiento.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfFechaNacimientoFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfFechaNacimientoFocusLost(evt);
            }
        });
        panelCenter.add(tfFechaNacimiento, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 130, 150, 25));

        panel.add(panelCenter, java.awt.BorderLayout.CENTER);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnCancelarMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnCancelarMousePressed
        dispose();
    }//GEN-LAST:event_btnCancelarMousePressed

  
    private void tfNombreFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfNombreFocusGained
        tfNombre.setBackground(Color.black);
        tfNombre.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(204, 0, 204), 2, true));
    }//GEN-LAST:event_tfNombreFocusGained

    private void tfNombreFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfNombreFocusLost
        tfNombre.setBackground(new java.awt.Color(102, 102, 102));
        tfNombre.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
    }//GEN-LAST:event_tfNombreFocusLost

    private void tfApellidosFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfApellidosFocusGained
        tfApellidos.setBackground(Color.black);
        tfApellidos.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(204, 0, 204), 2, true));
    }//GEN-LAST:event_tfApellidosFocusGained

    private void tfApellidosFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfApellidosFocusLost
        tfApellidos.setBackground(new java.awt.Color(102, 102, 102));
        tfApellidos.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
    }//GEN-LAST:event_tfApellidosFocusLost

    private void tfEmailFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfEmailFocusGained
        tfEmail.setBackground(Color.black);
        tfEmail.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(204, 0, 204), 2, true));
    }//GEN-LAST:event_tfEmailFocusGained

    private void tfDireccionFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfDireccionFocusGained
        tfDireccion.setBackground(Color.black);
        tfDireccion.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(204, 0, 204), 2, true));
    }//GEN-LAST:event_tfDireccionFocusGained

    private void tfEmailFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfEmailFocusLost
        tfEmail.setBackground(new java.awt.Color(102, 102, 102));
        tfEmail.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
    }//GEN-LAST:event_tfEmailFocusLost

    private void tfDireccionFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfDireccionFocusLost
        tfDireccion.setBackground(new java.awt.Color(102, 102, 102));
        tfDireccion.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
    }//GEN-LAST:event_tfDireccionFocusLost

    private void btnAnadirMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnAnadirMousePressed
        Socio s = new Socio(tfDNI.getText(), tfNombre.getText(), tfApellidos.getText(), 
                tfEmail.getText(), Date.valueOf(tfFechaNacimiento.getText()),tfDireccion.getText(), Integer.parseInt(tfTlf.getText()), 
                obtenerIdMembresia(cbMembresias.getSelectedItem()+""));
        
        if(btnAnadir.getText().equals("Modificar")){
            if(cs.modificarSocio(s, socio.getDni())){
                dispose();
            }
        }else if(btnAnadir.getText().equals("Añadir")){
            if(cs.insertarSocio(s)){
                dispose();
            }
        }
    }//GEN-LAST:event_btnAnadirMousePressed

    private void tfDNIFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfDNIFocusGained
        tfDNI.setBackground(Color.black);
        tfDNI.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(204, 0, 204), 2, true));
    }//GEN-LAST:event_tfDNIFocusGained

    private void tfDNIFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfDNIFocusLost
        tfDNI.setBackground(new java.awt.Color(102, 102, 102));
        tfDNI.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
    }//GEN-LAST:event_tfDNIFocusLost

    private void btnEliminarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnEliminarMouseClicked
        int dialogButton = JOptionPane.YES_NO_OPTION;
        int dialogResult = JOptionPane.showConfirmDialog (null, "Estas seguro que desea elimnar?","Warning",dialogButton);
        if(dialogResult == JOptionPane.YES_OPTION){
            if(cs.eliminarSocio(tfDNI.getText())){
                dispose();
            }
        }
    }//GEN-LAST:event_btnEliminarMouseClicked

    private void tfTlfFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfTlfFocusGained
        tfTlf.setBackground(Color.black);
        tfTlf.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(204, 0, 204), 2, true));
    }//GEN-LAST:event_tfTlfFocusGained

    private void tfTlfFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfTlfFocusLost
        tfTlf.setBackground(new java.awt.Color(102, 102, 102));
        tfTlf.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
    }//GEN-LAST:event_tfTlfFocusLost

    private void tfFechaNacimientoFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfFechaNacimientoFocusGained
        tfFechaNacimiento.setBackground(Color.black);
        tfFechaNacimiento.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(204, 0, 204), 2, true));
    }//GEN-LAST:event_tfFechaNacimientoFocusGained

    private void tfFechaNacimientoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfFechaNacimientoFocusLost
        tfFechaNacimiento.setBackground(new java.awt.Color(102, 102, 102));
        tfFechaNacimiento.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
    }//GEN-LAST:event_tfFechaNacimientoFocusLost

    public void rellenarCampos(){
        tfNombre.setText(socio.getNombre());
        tfApellidos.setText(socio.getApellidos());
        tfEmail.setText(socio.getEmail());
        tfFechaNacimiento.setText(socio.getFecha_nac()+"");
        tfDireccion.setText(socio.getDomicilio());
        tfTlf.setText(socio.getTelefono()+"");
        tfDNI.setText(socio.getDni());
        seleccionarMembresia(socio.getId_membresia());
        //añadir pendiente de pagos
        
        btnAnadir.setText("Modificar");
    }
    
    //Rellena el combo box con los nombres de todas las membresias
    private void rellenarMembresias(){
        ControlMembresia cmem = new ControlMembresia();
        ArrayList<Membresia> mems = cmem.obtenerMembresias();
        
        for(int i = 0 ; i < mems.size() ; i++){
            cbMembresias.addItem(mems.get(i).getNombre());
        }        
    }
    
    //Obtiene el nombre de la membresia dado su id
    private void seleccionarMembresia(int id_mem){
        ControlMembresia cm = new ControlMembresia();
        Membresia mem = cm.obtenerMembresia_ID(id_mem);
        cbMembresias.setSelectedItem(mem.getNombre());        
    }
    
    //Obtiene el id de la membresia selecionada en el combo box dado su nombre
    public int obtenerIdMembresia(String nombre){
        int id = 0;
        ControlMembresia cm = new ControlMembresia();
        ArrayList<Membresia> mem = cm.obtenerMembresias();
        for(int i = 0 ; i < mem.size() ; i++)
            if(nombre.equals(mem.get(i).getNombre())){
                id = mem.get(i).getId_membresia();
            }                
        return id;
    }
    
    private final ControlSocio cs;
    private Socio socio;
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel PanelSouthLeft;
    private javax.swing.JButton btnAnadir;
    private javax.swing.JButton btnCancelar;
    private javax.swing.JButton btnEliminar;
    private javax.swing.JComboBox<String> cbMembresias;
    private javax.swing.JCheckBox cbPagos;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel lblApellidos;
    private javax.swing.JLabel lblDNI;
    private javax.swing.JLabel lblDatosContacto;
    private javax.swing.JLabel lblDatosPersonales;
    private javax.swing.JLabel lblDireccion;
    private javax.swing.JLabel lblEmail;
    private javax.swing.JLabel lblFechaNacimiento;
    private javax.swing.JLabel lblMembresia;
    private javax.swing.JLabel lblNombre;
    private javax.swing.JLabel lblObDNI;
    private javax.swing.JLabel lblObMembresia;
    private javax.swing.JLabel lblObNombre;
    private javax.swing.JLabel lblTlf;
    private javax.swing.JPanel panel;
    private javax.swing.JPanel panelCenter;
    private javax.swing.JPanel panelSouth;
    private javax.swing.JPanel panelSouthRight;
    private javax.swing.JTextField tfApellidos;
    private javax.swing.JTextField tfDNI;
    private javax.swing.JTextField tfDireccion;
    private javax.swing.JTextField tfEmail;
    private javax.swing.JFormattedTextField tfFechaNacimiento;
    private javax.swing.JTextField tfNombre;
    private javax.swing.JFormattedTextField tfTlf;
    // End of variables declaration//GEN-END:variables
}
